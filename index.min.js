!function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()});for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var i=t[e];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var s=0;window.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(s+16,e);return setTimeout((function(){t(s=i)}),i-e)},window.cancelAnimationFrame=clearTimeout}}(),function(){function t(t,e,i){return t.addEventListener(e,i,!1),function(){t.removeEventListener(e,i,!1)}}function e(t){return Math.sqrt(1-Math.pow(t-1,2))}function i(t){return 1-Math.sqrt(1-t*t)}function s(){const t=["down","move","up","cancel"];return"PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator?t.map((t=>"pointer"+t)):"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?["touchstart","touchmove","touchend","touchcancel"]:t.map((t=>"mouse"+t))}var n=s(),h=function(){},a=function(e){this.reverse=this._getValue(e.reverse,!1),this.element="string"==typeof e.touch?document.querySelector(e.touch):e.touch,this.target=this._getValue(e.target,this.element);var i=this._getValue(e.followers,[]);this.followers=i.map((function(t){return{element:"string"==typeof t.element?document.querySelector(t.element):t.element,offset:t.offset}})),this.vertical=this._getValue(e.vertical,!0),this.property=e.property,this.tickID=0,this.value=this._getValue(e.value,this.target[this.property]),this.target[this.property]=this.value,this.followers.forEach(function(t){t.element[this.property]=this.value+t.offset}.bind(this)),this.fixed=this._getValue(e.fixed,!1),this.sensitivity=this._getValue(e.sensitivity,1),this.moveFactor=this._getValue(e.moveFactor,1),this.factor=this._getValue(e.factor,1),this.outFactor=this._getValue(e.outFactor,.3),this.min=e.min,this.max=e.max,this.deceleration=this._getValue(e.deceleration,6e-4),this.maxRegion=this._getValue(e.maxRegion,600),this.springMaxRegion=this._getValue(e.springMaxRegion,60),this.maxSpeed=e.maxSpeed,this.hasMaxSpeed=!(void 0===this.maxSpeed),this.lockDirection=this._getValue(e.lockDirection,!0);this.change=e.change||h,this.touchEnd=e.touchEnd||h,this.touchStart=e.touchStart||h,this.touchMove=e.touchMove||h,this.touchCancel=e.touchCancel||h,this.reboundEnd=e.reboundEnd||h,this.animationEnd=e.animationEnd||h,this.correctionEnd=e.correctionEnd||h,this.tap=e.tap||h,this.pressMove=e.pressMove||h,this.shouldRebound=e.shouldRebound||function(){return!0},this.preventDefault=this._getValue(e.preventDefault,!0),this.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},this.hasMin=!(void 0===this.min),this.hasMax=!(void 0===this.max),this.isTouchStart=!1,this.step=e.step,this.inertia=this._getValue(e.inertia,!0),this._calculateIndex(),this.eventTarget=window,e.bindSelf&&(this.eventTarget=this.element);var s=this;!function t(e){return s[e]=s[e].bind(s),t}("_start")("_end")("_cancel")("_move");var a=t(this.element,n[0],this._start),r=t(this.eventTarget,n[2],this._end),o=t(this.eventTarget,n[3],this._cancel);this.destory=function(){a(),r(),o(),s.eventTarget.removeEventListener(n[1],s._move),s.followers=s.element=s.target=null,cancelAnimationFrame(s.tickID)},this.eventTarget.addEventListener(n[1],this._move,{passive:!1,capture:!1}),this.x1=this.x2=this.y1=this.y2=null};a.prototype={_events:s(),isAtMax:function(){return this.hasMax&&this.target[this.property]>=this.max},isAtMin:function(){return this.hasMin&&this.target[this.property]<=this.min},_getValue:function(t,e){return void 0===t?e:t},stop:function(){cancelAnimationFrame(this.tickID),this._calculateIndex()},_start:function(t){var e=t.touches?t.touches[0]:t;this.isTouchStart=!0,this.touchStart.call(this,t,this.target[this.property]),cancelAnimationFrame(this.tickID),this._calculateIndex(),this.startTime=(new Date).getTime(),this.x1=this.preX=e.pageX,this.y1=this.preY=e.pageY,this.start=this.vertical?this.preY:this.preX,this._firstTouchMove=!0,this._preventMove=!1},_move:function(t){if(this.isTouchStart){var e=t.touches?t.touches[0]:t,i=t.touches?t.touches.length:1,s=e.pageX;if(currentY=e.pageY,this._firstTouchMove&&this.lockDirection){var n=Math.abs(s-this.x1)-Math.abs(currentY-this.y1);(n>0&&this.vertical||n<0&&!this.vertical)&&(this._preventMove=!0),this._firstTouchMove=!1}if(!this._preventMove){var h=(this.vertical?currentY-this.preY:s-this.preX)*this.sensitivity,a=this.moveFactor;if((this.isAtMax()&&(this.reverse?-h:h)>0||this.isAtMin()&&(this.reverse?-h:h)<0)&&(a=this.outFactor),h*=a,this.preX=s,this.preY=currentY,!this.fixed){var r=this.reverse?-h:h;this.target[this.property]+=r,this.followers.forEach(function(t){t.element[this.property]+=r}.bind(this))}this.change.call(this,this.target[this.property]);var o=(new Date).getTime();o-this.startTime>300&&(this.startTime=o,this.start=this.vertical?this.preY:this.preX),this.touchMove.call(this,t,this.target[this.property])}this.preventDefault&&!function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1}(t.target,this.preventDefaultException)&&t.preventDefault(),1===i&&(null!==this.x2?(t.deltaX=s-this.x2,t.deltaY=currentY-this.y2):(t.deltaX=0,t.deltaY=0),this.pressMove.call(this,t,this.target[this.property])),this.x2=s,this.y2=currentY}},_cancel:function(t){var e=this.target[this.property];this.touchCancel.call(this,t,e),this._end(t)},to:function(t,i,s,n){this._to(t,this._getValue(i,600),s||e,this.change,function(t){this._calculateIndex(),this.reboundEnd.call(this,t),this.animationEnd.call(this,t),n&&n.call(this,t)}.bind(this))},_calculateIndex:function(){this.hasMax&&this.hasMin&&(this.currentPage=Math.round((this.max-this.target[this.property])/this.step))},_end:function(t){var s=t.changedTouches?t.changedTouches[0]:t;if(this.isTouchStart){this.isTouchStart=!1;var n=s.pageX,h=s.pageY;if(self=this,current=this.target[this.property],triggerTap=Math.abs(n-this.x1)<30&&Math.abs(h-this.y1)<30,triggerTap&&this.tap.call(this,t,current),!1===this.touchEnd.call(this,t,current,this.currentPage))return;if(this.hasMax&&current>this.max){if(!this.shouldRebound(current))return;this._to(this.max,200,e,this.change,function(t){this.reboundEnd.call(this,t),this.animationEnd.call(this,t)}.bind(this))}else if(this.hasMin&&current<this.min){if(!this.shouldRebound(current))return;this._to(this.min,200,e,this.change,function(t){this.reboundEnd.call(this,t),this.animationEnd.call(this,t)}.bind(this))}else if(!this.inertia||triggerTap||this._preventMove||this.fixed)self._correction();else{var a=(new Date).getTime()-this.startTime;if(a<300){var r=((this.vertical?h:n)-this.start)*this.sensitivity,o=Math.abs(r)/a,c=this.factor*o;this.hasMaxSpeed&&c>this.maxSpeed&&(c=this.maxSpeed);var l=r<0?-1:1;this.reverse&&(l=-l);var u=current+c*c/(2*this.deceleration)*l,m=1;u<this.min?u<this.min-this.maxRegion?(m=i((current-this.min+this.springMaxRegion)/(current-u)),u=this.min-this.springMaxRegion):(m=i((current-this.min+this.springMaxRegion*(this.min-u)/this.maxRegion)/(current-u)),u=this.min-this.springMaxRegion*(this.min-u)/this.maxRegion):u>this.max&&(u>this.max+this.maxRegion?(m=i((this.max+this.springMaxRegion-current)/(u-current)),u=this.max+this.springMaxRegion):(m=i((this.max+this.springMaxRegion*(u-this.max)/this.maxRegion-current)/(u-current)),u=this.max+this.springMaxRegion*(u-this.max)/this.maxRegion));var f=Math.round(o/self.deceleration)*m;isNaN(u)||self._to(Math.round(u),f,e,self.change,(function(t){if(self.hasMax&&self.target[self.property]>self.max){if(!this.shouldRebound(self.target[self.property]))return;cancelAnimationFrame(self.tickID),self._to(self.max,600,e,self.change,self.animationEnd)}else if(self.hasMin&&self.target[self.property]<self.min){if(!this.shouldRebound(self.target[self.property]))return;cancelAnimationFrame(self.tickID),self._to(self.min,600,e,self.change,self.animationEnd)}else self.step?self._correction():self.animationEnd.call(self,t);self.change.call(this,t)}))}else self._correction()}}this.x1=this.x2=this.y1=this.y2=null},_to:function(t,e,i,s,n){var h=this.target,a=this.property,r=this.followers,o=h[a],c=t-o,l=+new Date,u=this,m=function(){var f=+new Date-l;if(f>=e)return h[a]=t,s&&s.call(u,t),void(n&&n.call(u,t));var p=c*i(f/e)+o;h[a]=p,r.forEach((function(t){t.element[a]=p+t.offset})),u.tickID=requestAnimationFrame(m),s&&s.call(u,h[a])};m()},_correction:function(){if(void 0!==this.step){var t=this.target[this.property],i=Math.floor(Math.abs(t/this.step)),s=t%this.step;Math.abs(s)>this.step/2?this._to((t<0?-1:1)*(i+1)*this.step,400,e,this.change,function(t){this._calculateIndex(),this.correctionEnd.call(this,t),this.animationEnd.call(this,t)}.bind(this)):this._to((t<0?-1:1)*i*this.step,400,e,this.change,function(t){this._calculateIndex(),this.correctionEnd.call(this,t),this.animationEnd.call(this,t)}.bind(this))}},destory:h},"undefined"!=typeof module&&"object"==typeof exports?module.exports=a:window.PhyTouch=a}();